import{r,u as o,s as b,a as P,b as N,c as y,d,f as v,e as B,g as E,h as k,i as D,j as W,k as e,C as w,P as S,l as T,m as I,n as F,o as i}from"./index-CZv-FMDP.js";const R=({borders:s,className:l})=>{const t=r.useRef(null),c=o(b),{totalPages:g,currentPage:h,isMoreThanOnePage:p,hasPrevPage:x,hasNextPage:m}=o(P),u=o(N),j=o(y),a=d();r.useEffect(()=>{if(!s)return;const n=s.join(",");a(v(n))},[a,s]),r.useEffect(()=>()=>{a(B()),a(E())},[a]);const f=r.useCallback(n=>{a(k(n))},[a]),C=r.useCallback((n,L)=>{L||(a(D(n)),setTimeout(()=>W(t),150))},[a]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:l,children:e.jsx(w,{countries:c,isLoading:u,isError:j,onCountrySelected:f,rows:1,ref:t})}),e.jsx(S,{totalPages:g,currentPage:h,isMoreThanOnePage:p,hasPrevPage:x,hasNextPage:m,isLoading:u,onPageChange:C})]})},M=()=>{const{country:s}=T(),l=I(),t=d();r.useEffect(()=>{t(F())},[t,s]);const c=()=>{window.history.state&&window.history.state.idx>0?l(-1):l("/")};return e.jsxs("section",{className:"country-details-container",children:[e.jsxs("div",{className:"top",children:[e.jsx("button",{onClick:c,className:"back-button"}),e.jsxs("h1",{children:[s.name," ",s.name!==s.officialName&&`/ ${s.officialName}`]})]}),e.jsxs("div",{className:"country-details",children:[e.jsx("img",{src:s.flagImg,alt:s.flagAlt}),e.jsxs("div",{children:[e.jsxs("div",{className:"main",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"name",children:s.name}),e.jsxs("p",{className:"region",children:[s.region," / ",s.subregion]})]}),e.jsxs("p",{className:"area",children:[s.area," km",e.jsx("sup",{children:"2"})]})]}),e.jsxs("div",{className:"details-text",children:[s.capital&&e.jsx(i,{singularLabel:"Capital",pluralLabel:"Capitals",data:s.capital,hasWrapper:!0}),e.jsx(i,{singularLabel:"Population",data:s.population,hasWrapper:!0}),e.jsx(i,{singularLabel:"Currency",pluralLabel:"Currencies",data:s.currencies,hasWrapper:!0}),e.jsx(i,{singularLabel:"Language",pluralLabel:"Languages",data:s.languages,hasWrapper:!0}),e.jsx(i,{singularLabel:"TLD",pluralLabel:"TLDs",data:s.topLevelDomains,hasWrapper:!0})]})]})]}),s.borders&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Border countries:"}),e.jsx(R,{borders:s.borders,className:"content"})]})]})};export{M as default};
