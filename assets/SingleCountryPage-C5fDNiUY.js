import{r as t,u as o,s as P,a as b,b as N,c as L,d as y,f as v,e as B,g as k,h as E,i as w,j as W,k as e,C as I,P as S,l as D,m as F,n as l}from"./index-i0-a8Te3.js";const R=({borders:s,className:n})=>{const i=t.useRef(null),u=o(P),{totalPages:d,currentPage:g,isMoreThanOnePage:h,hasPrevPage:x,hasNextPage:p}=o(b),c=o(N),m=o(L),a=y();t.useEffect(()=>{if(!s)return;const r=s.join(",");a(v(r))},[a,s]),t.useEffect(()=>()=>{a(B()),a(k())},[a]);const j=t.useCallback(r=>{a(E(r))},[a]),C=t.useCallback((r,f)=>{f||(a(w(r)),setTimeout(()=>W(i),150))},[a]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:n,children:e.jsx(I,{countries:u,isLoading:c,isError:m,onCountrySelected:j,rows:1,ref:i})}),e.jsx(S,{totalPages:d,currentPage:g,isMoreThanOnePage:h,hasPrevPage:x,hasNextPage:p,isLoading:c,onPageChange:C})]})},A=()=>{const{country:s}=D(),n=F(),i=()=>{window.history.state&&window.history.state.idx>0?n(-1):n("/")};return e.jsxs("section",{className:"country-details-container",children:[e.jsxs("div",{className:"top",children:[e.jsx("button",{onClick:i,className:"back-button"}),e.jsxs("h1",{children:[s.name," ",s.name!==s.officialName&&`/ ${s.officialName}`]})]}),e.jsxs("div",{className:"country-details",children:[e.jsx("img",{src:s.flagImg,alt:s.flagAlt}),e.jsxs("div",{children:[e.jsxs("div",{className:"main",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"name",children:s.name}),e.jsxs("p",{className:"region",children:[s.region," / ",s.subregion]})]}),e.jsxs("p",{className:"area",children:[s.area," km",e.jsx("sup",{children:"2"})]})]}),e.jsxs("div",{className:"details-text",children:[s.capital&&e.jsx(l,{singularLabel:"Capital",pluralLabel:"Capitals",data:s.capital,hasWrapper:!0}),e.jsx(l,{singularLabel:"Population",data:s.population,hasWrapper:!0}),e.jsx(l,{singularLabel:"Currency",pluralLabel:"Currencies",data:s.currencies,hasWrapper:!0}),e.jsx(l,{singularLabel:"Language",pluralLabel:"Languages",data:s.languages,hasWrapper:!0})]})]})]}),s.borders&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Border countries:"}),e.jsx(R,{borders:s.borders,className:"content"})]})]})};export{A as default};
